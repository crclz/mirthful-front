<div *ngFor="let post of posts$|async">
    <mat-card style="margin-top: 2em; border-radius:2em;">
        <mat-card-title>
            <mat-chip-list>
                <mat-chip *ngIf="post.isPinned" color="primary" selected>
                    <mat-icon>vertical_align_top</mat-icon>
                    置顶
                </mat-chip>
                <mat-chip *ngIf="post.isEssense" color="accent" selected>
                    <mat-icon>stars</mat-icon>
                    精华
                </mat-chip>
            </mat-chip-list>


            {{post.user.nickname}}:
            {{post.title}}
        </mat-card-title>
        <mat-card-content>
            {{post.text}}
            <img *ngIf="post.image" [src]="post.image" style="max-width: 600px; max-height: 400px;">
        </mat-card-content>
    </mat-card>
</div>

<form [formGroup]="sendPostForm" (submit)="sendPost(sendPostForm.value)">
    <mat-form-field>
        <input matInput placeholder="帖子标题" formControlName="title" required maxlength="22">
    </mat-form-field>

    <mat-form-field>
        <input matInput placeholder="正文" formControlName="text" required minlength="25" maxlength="800">
    </mat-form-field>

    <button type="submit" mat-flat-button color="accent">发送帖子</button>

</form>